<!-- 
Title: Suomalaisen tekstin merkitys (vain suomea äidinkielenään puhuvat)
Description: Arvioi joidenkin suomalaisten tekstien merkitys.
Keywords: Avainsanat: suomi teksti merkitys arvioida
Time allotted: 90 minutes 
Masters? No
Hit Approval greater than 95
Public
-->

<script type='text/javascript'>
window.onload = function() {
  document.getElementById('submitButton').setAttribute('onclick', 'return validateForm()');     
  document.getElementById("submitButton").className = "flatButtonRight";
  //document.getElementById("submitButton").disabled = true;
}

</script>
<link href="https://ajax.aspnetcdn.com/ajax/jquery.ui/1.9.1/themes/redmond/jquery-ui.css" rel="stylesheet" />
<p>
<style type="text/css">td { line-height: 140%;}
  
  *{
    font-family:Arial;
    font-size: large;
  }
  
  div {
    line-height: 140%;
  }

    .SliderLabel {
        float: left;
        font-size:20px;
        width:100px;
        font-family:Arial
    }
 
  .ui-slider .ui-slider-handle {
    height: 1.5em;
    width: 0.9em;
  }

    #slider .tick {  position: absolute; height: 100%; font-size:0px; line-height: 8px; top:-1px; }
  
  .flatButton {
    display:inline-block;
    cursor:pointer;
    font-family:Arial;
    font-size:17px;
    font-weight:bold;
    padding:14px 41px;
    text-decoration:none;
  }
  
  .flatButtonRight {
    display:inline-block;
    cursor:pointer;
    font-family:Arial;
    font-size:17px;
    font-weight:bold;
    padding:14px 41px;
    text-decoration:none;
    float: right;
  }
</style>
</p>
<script type='text/javascript' src='https://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.8.2.min.js'> </script><script  type='text/javascript' src='https://ajax.aspnetcdn.com/ajax/jquery.ui/1.9.1/jquery-ui.min.js'>  </script><script type='text/javascript' >

    function shuffle (array) {
      var i = 0
      var j = 0
      var temp = null

      for (i = array.length - 1; i > 0; i -= 1) {
        j = Math.floor(Math.random() * (i + 1))
        temp = array[i]
        array[i] = array[j]
        array[j] = temp
      }
    } 

    var order = [];
    for (var i = 0; i <100; ++i) order.push(i)

    // this only gets done for segment-level - don't want them reshuffled for system level
    shuffle(order) 

    var selectedValue = 0;

    function save(){
        alert(selectedValue);
    }


    $(function () {

    $('#amount').val(selectedValue);
        
    var slider = $("#slider").slider({
 
            orientation: "horizontal",
            min: 0,
            max: 100,
            value: 0,
                
      slide: function (event, ui) {
                $('#amount').val(ui.value);
                selectedValue = ui.value
      }
        });

        $('<div class="tick ui-widget-content" style="left:200px;"></div>').appendTo(slider);
    $('<div class="tick ui-widget-content" style="left:400px;"></div>').appendTo(slider);  
    $('<div class="tick ui-widget-content" style="left:600px;"></div>').appendTo(slider);
    slider.find(".tick:first").css("border-left", "none");
    slider.find(".ui-slider-handle").css("opacity", 0.8);
    slider.find(".ui-slider-handle").removeClass("ui-corner-all");
    slider.removeClass("ui-corner-all");
    });

</script>

<div class="highlight-box">
<table border="0" bordercolor="red" id="main_table" width="837">
  <tbody>
  </tbody>
</table>
</div>

<table border="0" bordercolor="black">
  <tbody>
    <tr>
      <td align="center">
      <table border="0" bordercolor="green" cellpadding="15" cellspacing="0" id="other_table" width="100%">
        <tbody>
          <tr>
            <td id="done">
            <p>T&auml;m&auml; HIT koostuu 100 suomen arvioinnista. Olet tehnyt 0.</p>
            </td>
          </tr>
          <tr>
            <td colspan="2">
            <p>Lue alla oleva teksti. Miss&auml; m&auml;&auml;rin olet samaa mielt&auml; seuraavasta lausumasta:</p>
            </td>
          </tr>
          <tr>
            <td align="center" id="rate">
            <p><b>Musta teksti vastaa harmaan tekstin sis&auml;lt&ouml;&auml; riitt&auml;v&auml;n hyvin suomessa.</b></p>
            </td>
          </tr>
          <tr>
            <td align="center" width="100%">
            <table>
              <tbody>
                <tr>
                  <td>
                  <table border="1" bordercolor="lightpink" cellpadding="20" cellspacing="0">
                    <tbody>
                      <tr>
                        <td>
                        <table>
                          <tbody>
                            <tr>
                              <td align="center" id="question_cell" width="100%"><img alt="" border="0" id="ref_pic" src="" /></td>
                            </tr>
                            <tr>
                              <td align="center" width="100%"><img alt="" border="0" id="question_pic" src="" /></td>
                            </tr>
                          </tbody>
                        </table>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                  </td>
                </tr>
              </tbody>
            </table>
            </td>
          </tr>
          <tr>
            <td>
            <table border="0" bordercolor="blue" cellpadding="10" cellspacing="0" id="slider_table" width="100%">
              <tbody>
                <tr>
                  <td colspan="2">
                  <table align="center">
                    <tbody>
                      <tr id="rSlider">
                        <td align="center" width="100">0 %</td>
                        <td>
                        <div id="slider" style="width: 800px; height: 20px; text-align: center; float: left;">&nbsp;</div>
                        </td>
                        <td align="center" width="100">100 %</td>
                      </tr>
                      <tr>
                        <td>&nbsp;</td>
                      </tr>
                    </tbody>
                  </table>
                  </td>
                </tr>
                <tr>
                  <td>
                  <table border="0" bordercolor="green" width="100%">
                    <tbody>
                      <tr>
                        <td align="right" id="next_button"><input class="flatButton" onclick="nextQuestion()" type="button" value="NEXT" /></td>
                      </tr>
                    </tbody>
                  </table>
                  </td>
                </tr>
              </tbody>
            </table>
            </td>
          </tr>
        </tbody>
      </table>

      <p><input id="amount" type="hidden" /></p>

      <p><input id="final_answer" name="Q1" type="hidden" /></p>
      <script type="text/javascript" language="javascript">

var SL = ${src};
var TL = ${trg};
var ITEM = ${item};

var sysids = [${sys_0}, ${sys_1}, ${sys_2}, ${sys_3}, ${sys_4}, ${sys_5}, ${sys_6}, ${sys_7}, ${sys_8}, ${sys_9}, ${sys_10}, ${sys_11}, ${sys_12}, ${sys_13}, ${sys_14}, ${sys_15}, ${sys_16}, ${sys_17}, ${sys_18}, ${sys_19}, ${sys_20}, ${sys_21}, ${sys_22}, ${sys_23}, ${sys_24}, ${sys_25}, ${sys_26}, ${sys_27}, ${sys_28}, ${sys_29}, ${sys_30}, ${sys_31}, ${sys_32}, ${sys_33}, ${sys_34}, ${sys_35}, ${sys_36}, ${sys_37}, ${sys_38}, ${sys_39}, ${sys_40}, ${sys_41}, ${sys_42}, ${sys_43}, ${sys_44}, ${sys_45}, ${sys_46}, ${sys_47}, ${sys_48}, ${sys_49}, ${sys_50}, ${sys_51}, ${sys_52}, ${sys_53}, ${sys_54}, ${sys_55}, ${sys_56}, ${sys_57}, ${sys_58}, ${sys_59}, ${sys_60}, ${sys_61}, ${sys_62}, ${sys_63}, ${sys_64}, ${sys_65}, ${sys_66}, ${sys_67}, ${sys_68}, ${sys_69}, ${sys_70}, ${sys_71}, ${sys_72}, ${sys_73}, ${sys_74}, ${sys_75}, ${sys_76}, ${sys_77}, ${sys_78}, ${sys_79}, ${sys_80}, ${sys_81}, ${sys_82}, ${sys_83}, ${sys_84}, ${sys_85}, ${sys_86}, ${sys_87}, ${sys_88}, ${sys_89}, ${sys_90}, ${sys_91}, ${sys_92}, ${sys_93}, ${sys_94}, ${sys_95}, ${sys_96}, ${sys_97}, ${sys_98}, ${sys_99}];
var rids = [${rid_0}, ${rid_1}, ${rid_2}, ${rid_3}, ${rid_4}, ${rid_5}, ${rid_6}, ${rid_7}, ${rid_8}, ${rid_9}, ${rid_10}, ${rid_11}, ${rid_12}, ${rid_13}, ${rid_14}, ${rid_15}, ${rid_16}, ${rid_17}, ${rid_18}, ${rid_19}, ${rid_20}, ${rid_21}, ${rid_22}, ${rid_23}, ${rid_24}, ${rid_25}, ${rid_26}, ${rid_27}, ${rid_28}, ${rid_29}, ${rid_30}, ${rid_31}, ${rid_32}, ${rid_33}, ${rid_34}, ${rid_35}, ${rid_36}, ${rid_37}, ${rid_38}, ${rid_39}, ${rid_40}, ${rid_41}, ${rid_42}, ${rid_43}, ${rid_44}, ${rid_45}, ${rid_46}, ${rid_47}, ${rid_48}, ${rid_49}, ${rid_50}, ${rid_51}, ${rid_52}, ${rid_53}, ${rid_54}, ${rid_55}, ${rid_56}, ${rid_57}, ${rid_58}, ${rid_59}, ${rid_60}, ${rid_61}, ${rid_62}, ${rid_63}, ${rid_64}, ${rid_65}, ${rid_66}, ${rid_67}, ${rid_68}, ${rid_69}, ${rid_70}, ${rid_71}, ${rid_72}, ${rid_73}, ${rid_74}, ${rid_75}, ${rid_76}, ${rid_77}, ${rid_78}, ${rid_79}, ${rid_80}, ${rid_81}, ${rid_82}, ${rid_83}, ${rid_84}, ${rid_85}, ${rid_86}, ${rid_87}, ${rid_88}, ${rid_89}, ${rid_90}, ${rid_91}, ${rid_92}, ${rid_93}, ${rid_94}, ${rid_95}, ${rid_96}, ${rid_97}, ${rid_98}, ${rid_99}];
var sids = [${sid_0}, ${sid_1}, ${sid_2}, ${sid_3}, ${sid_4}, ${sid_5}, ${sid_6}, ${sid_7}, ${sid_8}, ${sid_9}, ${sid_10}, ${sid_11}, ${sid_12}, ${sid_13}, ${sid_14}, ${sid_15}, ${sid_16}, ${sid_17}, ${sid_18}, ${sid_19}, ${sid_20}, ${sid_21}, ${sid_22}, ${sid_23}, ${sid_24}, ${sid_25}, ${sid_26}, ${sid_27}, ${sid_28}, ${sid_29}, ${sid_30}, ${sid_31}, ${sid_32}, ${sid_33}, ${sid_34}, ${sid_35}, ${sid_36}, ${sid_37}, ${sid_38}, ${sid_39}, ${sid_40}, ${sid_41}, ${sid_42}, ${sid_43}, ${sid_44}, ${sid_45}, ${sid_46}, ${sid_47}, ${sid_48}, ${sid_49}, ${sid_50}, ${sid_51}, ${sid_52}, ${sid_53}, ${sid_54}, ${sid_55}, ${sid_56}, ${sid_57}, ${sid_58}, ${sid_59}, ${sid_60}, ${sid_61}, ${sid_62}, ${sid_63}, ${sid_64}, ${sid_65}, ${sid_66}, ${sid_67}, ${sid_68}, ${sid_69}, ${sid_70}, ${sid_71}, ${sid_72}, ${sid_73}, ${sid_74}, ${sid_75}, ${sid_76}, ${sid_77}, ${sid_78}, ${sid_79}, ${sid_80}, ${sid_81}, ${sid_82}, ${sid_83}, ${sid_84}, ${sid_85}, ${sid_86}, ${sid_87}, ${sid_88}, ${sid_89}, ${sid_90}, ${sid_91}, ${sid_92}, ${sid_93}, ${sid_94}, ${sid_95}, ${sid_96}, ${sid_97}, ${sid_98}, ${sid_99}];
var tsts = [${tst_0}, ${tst_1}, ${tst_2}, ${tst_3}, ${tst_4}, ${tst_5}, ${tst_6}, ${tst_7}, ${tst_8}, ${tst_9}, ${tst_10}, ${tst_11}, ${tst_12}, ${tst_13}, ${tst_14}, ${tst_15}, ${tst_16}, ${tst_17}, ${tst_18}, ${tst_19}, ${tst_20}, ${tst_21}, ${tst_22}, ${tst_23}, ${tst_24}, ${tst_25}, ${tst_26}, ${tst_27}, ${tst_28}, ${tst_29}, ${tst_30}, ${tst_31}, ${tst_32}, ${tst_33}, ${tst_34}, ${tst_35}, ${tst_36}, ${tst_37}, ${tst_38}, ${tst_39}, ${tst_40}, ${tst_41}, ${tst_42}, ${tst_43}, ${tst_44}, ${tst_45}, ${tst_46}, ${tst_47}, ${tst_48}, ${tst_49}, ${tst_50}, ${tst_51}, ${tst_52}, ${tst_53}, ${tst_54}, ${tst_55}, ${tst_56}, ${tst_57}, ${tst_58}, ${tst_59}, ${tst_60}, ${tst_61}, ${tst_62}, ${tst_63}, ${tst_64}, ${tst_65}, ${tst_66}, ${tst_67}, ${tst_68}, ${tst_69}, ${tst_70}, ${tst_71}, ${tst_72}, ${tst_73}, ${tst_74}, ${tst_75}, ${tst_76}, ${tst_77}, ${tst_78}, ${tst_79}, ${tst_80}, ${tst_81}, ${tst_82}, ${tst_83}, ${tst_84}, ${tst_85}, ${tst_86}, ${tst_87}, ${tst_88}, ${tst_89}, ${tst_90}, ${tst_91}, ${tst_92}, ${tst_93}, ${tst_94}, ${tst_95}, ${tst_96}, ${tst_97}, ${tst_98}, ${tst_99}];

var ans = "";
var index = 0;
var qid = order[index];

var rid = rids[qid]+"";
var sid = sids[qid];
var sysid = sysids[qid];
var tst = tsts[qid];

var url = "http://computing.dcu.ie/~ygraham";
var ref_dir = url+"/mturk/img/wmt/ref/"+SL+"-"+TL+"/"
var img_dir = url+"/mturk/img/wmt/"+ITEM+"/"+SL+"-"+TL+"/"

var ref_img = ref_dir+sid+".png";
var img = img_dir+rid.substring(0,4)+"/"+rid+".png";

document.getElementById("question_pic").src = img;
document.getElementById("ref_pic").src = ref_img;  
document.getElementById('done').innerHTML = "Tämä HIT koostuu 100 suomen arvioinnista. Olet tehnyt "+index+".";
  
function nextQuestion(){

  var a = sysid+"_"+sid+"_"+tst+"_"+index+"_"+"_"+document.getElementById("amount").value;

  if( index == 0 ){
    ans = a;
  }else{
    ans += "|"+a;
  }

  // move to next question
  index++;
  qid = order[index]
  rid = rids[qid]+"";
  sid = sids[qid];
  sysid = sysids[qid];
  tst = tsts[qid];
  //alert("index="+index+", qid="+qid+", sysid="+sysid+", ans="+ans)

  var ref_img = ref_dir+sid+".png";  
  var img = img_dir+rid.substring(0,4)+"/"+rid+".png";
  
  document.getElementById('done').innerHTML = "<span style='font-family: Arial;'>Tämä HIT koostuu 100 suomen arvioinnista. Olet tehnyt "+index+".</span>";
  document.getElementById("question_pic").src=img;
  document.getElementById("ref_pic").src=ref_img;
  
  $("#slider").slider('value', 0);

  if( index == rids.length ){
  
    document.getElementById('final_answer').value = ""+ans;
    document.getElementById("main_table").innerHTML = "<tbody><div><p>Olet tehnyt kaikki 100 arviota.</p> <p> Lähetä HIT painamalla alla olevaa Lähetä-painiketta. Kiitos osallistumisestasi. </p> <p>Voit halutessasi antaa palautetta tässä:</p></div><textarea name=\"comments\" cols=110 rows=10></textarea></tbody>" 
    document.getElementById('other_table').innerHTML = "";
    document.getElementById('slider_table').innerHTML = "";
  //document.getElementById("submitButton").disabled = false;
  }
}

function validateForm(){
  if( index == 100 ){
     return true;
  }else{
     alert("Paina Seuraava-painiketta");
     return false;
  }
}
  
</script></td>
    </tr>
  </tbody>
</table>

